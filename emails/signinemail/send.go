package signinemail

import "go-boilerplate/integrations/sendgrid"

func SendSignInEmail(fullName string, email string, ip string, browser string, operatingSystem string) error {
	plainTextContent := "Hi " + fullName + ",\n\nThere was a new sign into your account.\n\nIP: " + ip + "\nBrowser: " + browser + "\nOS: " + operatingSystem + "\n\nIf this was you, you’re all set!\n\nIf this wasn't you, please change your password. You can also enable two-factor authentication to help secure your account.\n\nMade by KeithWeaver.ca"
	htmlContent := "<html> <body> <div style='width: 98%; margin-left:auto; margin-right:auto; padding-top: 15px; padding-bottom: 20px; background-color: #f1f1f1;'> <div style='background-color: #fff; width: 90%; margin-left:auto; margin-right:auto;padding-top: 15px;'> <div style='width: 100%;padding: 10px 20px;'> <img src='https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Circle-icons-rocket.svg/1200px-Circle-icons-rocket.svg.png' style='height: 50px;' /> <h1 style='font-size: 32px;font-family: sans-serif;margin-top: 0px; margin-bottom: 0px;padding-top: 10px; padding-bottom: 10px;'>New Device Signed Into Your App</h1> </div> <div style='padding: 10px 25px;'> <p style='margin-top: 0px; margin-bottom: 0px; font-size: 16px; font-family: sans-serif;'> Hi " + fullName + ",<br /> <br /> There was a new sign into your account. </p> <div style='width: 100%; padding: 20px 5px;'> <table style='width: 100%; max-width: 500px; margin-left: auto; margin-right: auto;'> <tr> <td style='width: 49.5%; text-align: right; padding-right: 5px; font-family: sans-serif; font-size: 14px;'>IP</td> <td style='width: 49.5%; padding-left: 5px; font-family: sans-serif; font-size: 14px;'>" + ip + "</td> </tr> <tr> <td style='width: 49.5%; text-align: right; padding-right: 5px; font-family: sans-serif; font-size: 14px;'>Browser</td> <td style='width: 49.5%; padding-left: 5px; font-family: sans-serif; font-size: 14px;'>" + browser + "</td> </tr> <tr> <td style='width: 49.5%; text-align: right; padding-right: 5px; font-family: sans-serif; font-size: 14px;'>OS</td> <td style='width: 49.5%; padding-left: 5px; font-family: sans-serif; font-size: 14px;'>" + operatingSystem + "</td> </tr> </table> </div> <p style='font-size: 16px; font-family: sans-serif; padding-top: 15px;'> If this was you, you’re all set!<br /> <br /> If this wasn not you, please change your password. You can also enable two-factor authentication to help secure your account. </p> </div> <div style='padding-top: 15px; padding-bottom: 25px; text-align: center;'> <p style='font-size: 14px; font-family: sans-serif; margin-top: 0px; margin-bottom: 0px;'>Made by KeithWeaver</p> <p style='font-size: 12px; font-family: sans-serif; margin-top: 0px; margin-bottom: 0px; padding: 10px 0px;'> <a href='https://yourwebsite.com/blog' style='text-decoration: underline; color: #2e2e2e;'> Our Blog </a> <a href='https://yourwebsite.com/privacy' style='text-decoration: underline; color: #2e2e2e; padding: 0px 15px;'> Our Privacy Policy </a> <p> </div> </div> </div> </body> </html>"
	return sendgrid.SendEmail(fullName, email, "New Sign-In", plainTextContent, htmlContent)
}